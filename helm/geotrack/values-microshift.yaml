## MicroShift local deployment overrides

global:
  imagePullPolicy: Never  # Use pre-loaded local images

api:
  replicaCount: 1
  image:
    repository: localhost/geotrack-api
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  hpa:
    enabled: false

processing:
  replicaCount: 1
  image:
    repository: localhost/geotrack-processing
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

frontend:
  replicaCount: 1
  image:
    repository: localhost/geotrack-frontend
    tag: latest
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

simulator:
  live:
    enabled: true
    replicaCount: 1
  ships:
    enabled: true
    replicaCount: 1
  image:
    repository: localhost/geotrack-simulator
    tag: latest
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 250m
      memory: 256Mi

postgres:
  enabled: true
  image:
    repository: localhost/postgis/postgis
    tag: "16-3.4"
  storage: 5Gi
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 1Gi
  credentials:
    username: geotrack
    password: geotrack
    database: geotrack

kafka:
  enabled: true
  image:
    repository: localhost/docker.redpanda.com/redpandadata/redpanda
    tag: latest
  storage: 5Gi
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      cpu: 500m
      memory: 1Gi

config:
  kafkaBootstrapServers: "geotrack-kafka:9092"
  datasourceUrl: "jdbc:postgresql://geotrack-postgres:5432/geotrack"
  datasourceUsername: geotrack
  openskyEnabled: "true"
  aisstreamEnabled: "true"

secrets:
  datasourcePassword: geotrack
  aisstreamApiKey: ""  # Set via env or secret
