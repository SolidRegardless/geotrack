global:
  namespace: geotrack
  imagePullPolicy: IfNotPresent

api:
  replicaCount: 3
  image:
    repository: ghcr.io/geotrack/geotrack-api
    tag: latest
  port: 8080
  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: "1"
      memory: 512Mi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilization: 70
  healthCheck:
    liveness: /q/health/live
    readiness: /q/health/ready

processing:
  replicaCount: 2
  image:
    repository: ghcr.io/geotrack/geotrack-processing
    tag: latest
  port: 8081
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: "2"
      memory: 1Gi

postgres:
  enabled: true
  image:
    repository: postgis/postgis
    tag: "16-3.4"
  port: 5432
  storage: 100Gi
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: "2"
      memory: 4Gi
  credentials:
    username: geotrack
    password: changeme
    database: geotrack

kafka:
  enabled: true
  image:
    repository: docker.redpanda.com/redpandadata/redpanda
    tag: latest
  ports:
    internal: 9092
    external: 29092
  storage: 50Gi
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: "2"
      memory: 2Gi

config:
  kafkaBootstrapServers: "geotrack-kafka:9092"
  datasourceUrl: "jdbc:postgresql://geotrack-postgres:5432/geotrack"
